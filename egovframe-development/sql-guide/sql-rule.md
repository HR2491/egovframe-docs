- - -

## title: "SQL 작성 규칙"
linkTitle: "SQL 작성 규칙"
description: "본 가이드는 SQL 문법을 통일하여 가독성을 높일 수 있도록 가이드를 하기 위해 SQL 작성 규칙을 제공한다."
url: /egovframe-development/sql-guide/sql-rule
menu:
depth:
name: "SQL 작성 규칙"
weight: 1
parent: "sql-guide"
identifier: "sql-rule"

# SQL 작성 규칙

## 개요

본 가이드는 SQL 문법을 통일하여 가독성을 높일 수 있도록 가이드를 하기 위해 SQL 작성 규칙을 제공한다.

아래의 규칙을 준수하여 SQL 예시와 해당 규칙을 설명하는 방식으로 진행된다.

1. 가독성 준수 규칙

# SQL 규칙 정리

| 번호 | 구분 | SQL 규칙 |
| --- | --- | ------ |
| 1 | 넓이 | 가로 최대 길이가 80칼럼 이하가 되도록 작성하길 권장하며 최대 120 칼럼을 넘지 않도록 함 |
| 2 | 대소문자 | 대문자 작성을 원칙으로 하며, 변수는 UI 네이밍룰에 맞추어서 작성 |
| 3 | 공백 | 공백(SPACE) 문자를 사용하며, 탭(TAB)은 사용하지 않음 |
| 4 | 컬럼명, 테이블명 | SQL문은 들여쓰기를 하여 가독성을 높일 수 있다.<br>반드시 어플리케이션에서 사용되는 칼럼명과 테이블 명 만을 SQL 구문에 기술하며,\* 등 테이블 전체 칼럼을 사용하는 것은 허용하지 않음 |
| 5 | 줄바꿈 | 줄 바꾸기는 키워드, 테이블, 칼럼에서 하는 것을 원칙으로 함<br>(단, 가독성 향상을 위해 임의로 줄 바꾸기를 할 수 있음) |
| 6 | 콤마 | 단어와 단어 사이, 콤마(,) 다음에는 한 칸을 띄운다. |
| 7 | 괄호 | 괄호 다음엔 공백을 두지 않는다. (단, EXISTS, 서브쿼리에서 괄호는 예시 참조) |
| 8 | 주석 | 주석은 /\* 와 \*/ 를 사용하고 “--“은 사용하지 않는다. |
| 9 | 힌트 | 힌트는 /\*+ 와 \*/ 를 사용하고 “--+”은 사용하지 않는다. |

개발자 임의의 힌트를 사용은 금지하며 튜닝 요소가 있을 경우 담당자와 협의하여 사용
\( 연속조회/최대값 조회를 위한 INDEX\, INDEX\_DESC 힌트는 사용가능\, 그 이외에 어떠한 힌트도 사용불가 \)\|
\| 10 \| 변수 \| WHERE절에서 사용되는 모든 비교 값은 바인드 변수\(Bind Variable\)로 처리함을 원칙으로 하며
변수 이름은 어플리케이션 개발가이드에 따름\|
\| 11 \| ANSI \| 가독성의 향상과 쉬운 유지보수를 위해서 ANSI SQL\-92 표준의 조인 방식은 사용하지 않음
\(업무적으로 FULL OUTER 조인이 사용될 경우는 허용함\)\|
\| 12 \| FROM절 \| 인라인 뷰의 깊이는 최대 3단계까지만 허용함\(권장 2단계\)\|
\| 13 \| 하드코딩 \| DECODE\, CASE WHEN에서 데이터 값을 하드 코딩하여 비교하는 형태는 허용하지 않음\|
\| 14 \| Static \| Static Embeded SQL 사용을 원칙으로 함
Precompiler 제약에 의해서 반드시 Dynamic SQL로 구현되야 하는 MERGE INTO 문은 허용
임시 테이블이 생성되는 WITH 문은 Online 환경\(센터컷 포함\)에서는 허용하지 않음 \( 배치에서만 허용 \)\|

# SQL 작성 예시

| 구분 | SQL 규칙 |
| ---------- | ---------- |
| ![SQL 예시](./image.png/rule01.png) |  SELECT 이후 반드시 공백 1칸을 주고 칼럼을 기술 <br> 1줄에 1개 컬럼 기술을 원칙으로 함 <br> 컬럼명 이후 공백을 주고  주석을 추가 <br> 컬럼명,테이블명의 구분 콤마(,)는 앞쪽에 기술<br> 콤마 와 칼럼/테이블 명 사이에 공백 한 칸을 둠<br> FROM 절에 나타난 순서대로 알파벳 대문자 A , B ,… 순서로 사용<br> 테이블 별칭 이후 공백을 주고 주석을 추가<br> SELECT , FROM, WHER , AND 가 오른쪽 맞춤이 되도록 정렬  ( SELECT의 “T”알파벳을 기준으로 정렬 )<br> WHERE 절의 조인 조건에 대해서는 주석은 필수가 아님 <br> WHERE 절에서 조인 조건을 먼저 기술함    테이블 lookup 조건은 조인조건 이후에 기술 |

